<html>
    <head>
<style>
    html, body, video, canvas {
        margin: 0!important;
        padding: 0!important;
        overflow: hidden!important;
        width: 100%;
        height: 100%;
    }
</style>

<title>Video+Screen recording using RecordRTC</title>




<script src="https://cdn.webrtc-experiment.com/RecordRTC.js"></script>
<script src="https://webrtc.github.io/adapter/adapter-latest.js"></script>
<script src="https://cdn.WebRTC-Experiment.com/getScreenId.js"></script>
</head>
<body>
        <video controls autoplay></video>
        <butt id="btnStopRecording">btnStopRecording</butt>

<script>
    var recordRTC;
 
 function successCallback(stream) {
     // RecordRTC usage goes here
  
     var options = {
       mimeType: 'video/webm', // or video/webm\;codecs=h264 or video/webm\;codecs=vp9
       audioBitsPerSecond: 128000,
       videoBitsPerSecond: 128000,
       bitsPerSecond: 128000 // if this line is provided, skip above two
     };
     recordRTC = RecordRTC(stream, options);
     recordRTC.startRecording();
 }
  
 function errorCallback(error) {
     // maybe another application is using the device
 }
  
 var mediaConstraints = { video: true, audio: true };
  
 navigator.mediaDevices.getUserMedia(mediaConstraints).then(successCallback).catch(errorCallback);
  
 btnStopRecording.onclick = function () {
     recordRTC.stopRecording(function (audioVideoWebMURL) {
         video.src = audioVideoWebMURL;
  
         var recordedBlob = recordRTC.getBlob();
         recordRTC.getDataURL(function(dataURL) { });
     });
 };
</script>
</body>
</html>